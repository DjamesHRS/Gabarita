<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gabarita - Gerar Proposta Personalizada</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body class="gab-bg-gradient">

    <header class="gab-header shadow-lg p-3">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <img src="logo.png" alt="Logo Gabarita" class="gab-logo me-3" style="width: 40px; height: 40px;">
                <h1 class="gab-title-static mb-0 fw-black text-white">Gerar Proposta</h1>
            </div>
            <a href="/perfil" class="gab-profile-icon" title="Meu Perfil">
                <img src="dolphinicon.png" alt="Dolphin Perfil" class="rounded-circle" style="width: 40px; height: 40px; border: 2px solid #94d2bd;">
            </a>
        </div>
    </header>

    <main class="container py-5">
        
        <div class="row justify-content-center">
            
            <div class="col-lg-7 mb-4 mb-lg-0">
                <div class="gab-panel-luminous p-4 p-md-5">
                    
                    <h2 class="fw-black text-white mb-3"><i class="fas fa-magic me-2 gab-text-luminous"></i>Proposta Customizada</h2>
                    <p class="text-light fw-light mb-4">Defina o tema, a instituição e o nível de dificuldade. Nossa IA criará uma proposta única para você!</p>

                    <form id="propostaForm" class="row g-3 needs-validation" novalidate>
                        
                        <div class="col-12">
                            <label for="temaBase" class="form-label text-white fw-regular">Tema Central</label>
                            <select class="form-select gab-input-luminous" id="temaBase" required>
                                <option value="" selected disabled>Selecione um tema...</option>
                                <option value="meio_ambiente">Sustentabilidade e Meio Ambiente</option>
                                <option value="saude_publica">Saúde Pública e Tecnologia</option>
                                <option value="educacao_digital">Educação e Desafios Digitais</option>
                                <option value="violencia_urbana">Violência e Segurança Urbana</option>
                                <option value="outros">Outro Tema (Especifique abaixo)</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione o tema base da proposta.
                            </div>
                        </div>
                        
                        <div class="col-12" id="temaEspecificoField" style="display: none;">
                             <label for="temaEspecifico" class="form-label text-white fw-regular">Especifique o Tema</label>
                             <input type="text" class="form-control gab-input-luminous" id="temaEspecifico" placeholder="Ex: Impacto das fake news na saúde pública" disabled>
                             <div class="invalid-feedback">
                                 Por favor, especifique o tema.
                             </div>
                        </div>

                        <div class="col-md-6">
                            <label for="instituicao" class="form-label text-white fw-regular">Instituição de Foco</label>
                            <select class="form-select gab-input-luminous" id="instituicao" required>
                                <option value="" selected disabled>Selecione a banca...</option>
                                <option value="enem">ENEM (Padrão Clássico)</option>
                                <option value="fuvest">Fuvest (Dissertativo-argumentativo)</option>
                                <option value="unicamp">Unicamp (Múltiplos Gêneros)</option>
                                <option value="famerp">FAMERP / Outras</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione a instituição de foco.
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label for="dificuldade" class="form-label text-white fw-regular">Nível de Dificuldade</label>
                            <select class="form-select gab-input-luminous" id="dificuldade" required>
                                <option value="" selected disabled>Selecione o nível...</option>
                                <option value="facil">Fácil (Temas Clássicos)</option>
                                <option value="medio">Médio (Temas Atuais/Relevantes)</option>
                                <option value="dificil">Difícil (Temas Abstratos/Complexos)</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione o nível de dificuldade.
                            </div>
                        </div>
                        
                        <div class="col-12 mt-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="termosCheck" required>
                                <label class="form-check-label text-light fw-light small" for="termosCheck">
                                    Confirmo que esta proposta utilizará 1 crédito de geração de IA.
                                </label>
                                <div class="invalid-feedback">
                                    Você precisa aceitar para continuar.
                                </div>
                            </div>
                        </div>

                        <div class="col-12 mt-4">
                            <button class="btn gab-btn-primary w-100" type="submit" id="submitGerarProposta">
                                <i class="fas fa-rocket me-2"></i> Gerar Minha Proposta Única
                            </button>
                        </div>
                    </form>
                    
                    <div id="feedbackMessage" class="mt-4 p-3 d-none gab-alert-info"></div>

                </div>
            </div>
            
            <div class="col-lg-5">
                <div class="gab-panel-luminous p-4 h-100">
                    <div class="text-center">
                        <img src="dolphingprofessor.png" alt="Dolphin Professor" style="max-width: 150px; height: auto;" class="mb-3">
                        <h4 class="fw-black text-white">Dica do Professor Dolphin!</h4>
                    </div>
                    <p class="text-light fw-regular mt-3">Ao personalizar sua proposta, você simula o ambiente real do vestibular. **Dificuldade alta** geralmente significa menos textos de apoio e mais complexidade na tese.</p>
                    <ul class="list-unstyled text-light small fw-light">
                        <li class="mb-2"><i class="fas fa-check gab-text-luminous me-2"></i>Foque na banca que você vai prestar (ENEM, FUVEST, etc.).</li>
                        <li class="mb-2"><i class="fas fa-check gab-text-luminous me-2"></i>Use a opção "Outros" para simular temas que ainda não caíram.</li>
                    </ul>
                    <div class="text-center mt-4">
                         <a href="/perfil" class="btn gab-btn-action btn-sm">Ver meus Créditos</a>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/redacao/gerar.js"></script>
</body>
</html>